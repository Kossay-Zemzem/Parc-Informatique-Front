<div class=" flex flex-row justify-between pr-14 pl-4 py-6 w-full">
    <div class="flex items-center gap-4">
        <button *ngIf="showReturnButton"
            class="flex flex-row items-center justify-center w-12 h-12 rounded-full bg-white hover:bg-gray-200 transition"
            (click)="onReturnClick()">
            <lucide-icon name="arrow-left" [size]="32" />
        </button>
        <div class="font-poppins font-medium text-4xl">
            <!-- Parc entiére -->
            {{ title }}
        </div>
        <!--vertical line-->
        <div *ngIf="isSubTitle" class="w-0.5 h-9 bg-black rounded-full mx-2"></div>
        <div *ngIf="isSubTitle" class="flex flex-row items-end align-bottom text-[#002752]">
            <h2 class="text-2xl font-semibold">
                {{ isEditMode ? 'Modifier la Machine' : 'Créer une Nouvelle Machine' }}
            </h2>
        </div>
    </div>
    <!--Recover machine icon-->
    <div class="flex flex-row gap-4 items-center">
        <!-- Export button -->
        <!--
        <button *ngIf="!showCleanArchiveButton" (click)=" openExportWizard()"
            class="hover:bg-[#c6fed2] hover:opacity-100 rounded-full p-2 transition">
            <lucide-icon name="file-down" [size]="22" class="text-[#006308]" />
        </button>
        -->
        <button *ngIf="!showCleanArchiveButton" (click)="openExportWizard()"
            class="px-4 py-2 rounded-lg font-medium text-[#006308] border border-[#006308] bg-white hover:bg-[#006308] hover:text-white transition flex flex-row items-center gap-2">
            <lucide-icon name="file-down" [size]="20" />
            Exporter
        </button>
        <button *ngIf="!showCleanArchiveButton"
            class="px-4 py-2 rounded-lg font-medium text-[#A9743A] border border-[#A9743A] bg-white hover:bg-[#A9743A] hover:text-white transition flex flex-row items-center gap-2"
            (click)="onRecoverMachineClick()">
            <lucide-icon name="ArchiveIcon" [size]="20" />
            Archive
        </button>
        <button *ngIf="showCleanArchiveButton"
            class="px-4 py-2 rounded-lg font-medium text-red-600 border border-red-600 bg-white hover:bg-red-600 hover:text-white transition flex flex-row items-center gap-2"
            (click)="openCleanArchiveModal()">
            <lucide-icon name="trash-2" [size]="20" />
            Vider l'archive
        </button>
    </div>
    <!-- <app-profile-card></app-profile-card> -->
</div>

<!-- Clean Archive Confirmation Modal -->
<div *ngIf="showCleanArchiveModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40">
    <div class="bg-white rounded-lg shadow-lg p-6 max-w-lg w-full">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-[#c71509]">
                Vider l'archive ?
            </h2>
            <button
                class="text-gray-400 hover:bg-red-100 hover:text-red-600 transition-colors rounded-full p-1 focus:outline-none focus:ring-2 focus:ring-red-600"
                (click)="closeCleanArchiveModal()" aria-label="Fermer">
                <lucide-icon name="x" [size]="25" />
            </button>
        </div>
        <div class="font-medium text-gray-800 mb-4">Voulez-vous vraiment vider l'archive ?</div>
        <div class="flex items-center text-sm text-[#b45309] bg-yellow-50 rounded px-2 py-1 mb-4">
            <lucide-icon name="circle-alert" [size]="25" class="mr-2" />
            <span>Toutes les machines archivées seront définitivement supprimées.</span>
        </div>
        <div class="flex justify-end gap-2">
            <button class="px-3 py-1.5 rounded-lg bg-gray-200 hover:bg-gray-300" (click)="closeCleanArchiveModal()">
                Annuler
            </button>
            <button class="px-3 py-1.5 rounded-lg bg-[#c71509] text-white hover:bg-[#a31207]"
                (click)="confirmCleanArchive()">
                Vider
            </button>
        </div>
    </div>
</div>